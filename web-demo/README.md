
### 開発用DB
```
docker run --name postgres-dev -e POSTGRES_PASSWORD=dev123 -p 5432:5432 -d postgres 
```

```
docker start postgres-dev
```

```
ユーザー：postgres
パスワード：dev123
データーベース：postgres
```

### ビルド＆起動
```
mvn clean install -Dmaven.test.skip=true && java -jar target/web-demo-0.0.1-SNAPSHOT.jar
```


### DBスキーマ
```
-- DDL generated by Postico 1.4.2
-- Not all database features are supported. Do not use for backup.

-- Table Definition ----------------------------------------------

CREATE TABLE items (
    item_id character varying(64) PRIMARY KEY,
    name character varying(256),
    description text,
    datetime timestamp without time zone
);

-- Indices -------------------------------------------------------

CREATE UNIQUE INDEX items_pkey ON items(item_id text_ops);


-- DDL generated by Postico 1.4.2
-- Not all database features are supported. Do not use for backup.

-- Table Definition ----------------------------------------------

CREATE TABLE prices (
    item_id character varying(64) REFERENCES items(item_id),
    version integer,
    activate_from timestamp without time zone,
    activate_to timestamp without time zone,
    amount numeric(20,10),
    datetime timestamp without time zone,
    CONSTRAINT prices_pkey PRIMARY KEY (item_id, version)
);

-- Indices -------------------------------------------------------

CREATE UNIQUE INDEX prices_pkey ON prices(item_id text_ops,version int4_ops);



```

### テストデータ
```
insert into items(item_id, name, description, datetime) values('item001','商品001','ああああああ', '2019-04-04T20:00:00');

insert into prices(item_id,version,activate_from, activate_to, amount,datetime) values('item001',1,'2019-04-04T00:00:00','2020-04-03T23:59:59',10000,'2019-04-04T20:00:00');
insert into prices(item_id,version,activate_from, activate_to, amount,datetime) values('item001',2,'2020-04-04T00:00:00','2021-04-03T23:59:59',8000,'2019-04-04T20:00:00');
```


# 参考ドキュメント
Hibernate Validator http://hibernate.org/validator/documentation/



mvn test -Dtest=CustomValidatorTest test

